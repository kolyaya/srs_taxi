\subsection{Рабочее место} \label{work_place}

		DESC:  \\

		\subsubsection{Минижурнал}

			DESC: Минижурнал - это один из элементов рабочего места, который содержит в себе сипсок заказов. Каждый элемент списка содержит в себе информацию о заказе.

			\paragraph{Функциональные требования} \mbox{} \\

			\begin{itemize}

				\item{
					TITLE: Упорядоченность списка.\\
					\sr{Список заказов (элементы) упорядочен по возрастанию относительно времени подачи к текущему времени.}\\
					PRIOR: MODERATE\\
				}


				\item{
					TITLE: Данные отображаемые в элементе.\\
					\sr{Элемент отображает данные описанные в таблице \ref{fields_element_minijournal}.}\\
					PRIOR: MODERATE\\
				}

				\item{
					TITLE: Действия при нажатии на элемент списка.\\
					\sr{При нажатии на элемент списка:
						\begin{itemize}
							\item Элемент списка подсвечивается.
							\item На Карте отображается трек заказа (\ref{order_track}).).
							\item Элементы и поля в форме создания заказа преобразуются в элементы и поля вкладки "Заказ" из модального окна в Журнале заказов(\ref{order_modal_win}.).
						\end{itemize} 

					}  \mbox{}\\
					PRIOR: MODERATE \mbox{}\\ 
				}


			\end{itemize}

		    \begin{table} [h]
	            \begin{center}
	            \caption {Поля в элементе минижурнала}
	            \label{fields_element_minijournal}
	            \setlength{\extrarowheight}{2mm}
	            \begin{tabular}{|p{5cm}|p{10cm}|}
	               \hline     \textbf{Название поля}&\textbf{Отображается в формате:} \\ [2mm]

	               \hline Точки заказа  & [Адрес точки А] + [->] + [Адрес точки В]\\ [2mm]
	               \hline Статус заказа  & [Название статуса]\\ [2mm]
	               \hline Позывной    & [Позывной водителя]\\ [2mm]
	               \hline ТС & Через запятую: [Марка] + [Модель] + [Гос. номер] + [Цвет]\\ [2mm]
	               \hline Время до заказа  & (Осталось [[Время подачи] - [Текущее]] мин.)\\ [2mm]

	               \hline
	            \end{tabular}
	            \end{center}
            \end{table}


		\subsubsection{Карта}

			\paragraph{Общие требования к карте}	

				TITLE: Положение карты\\
				\sr{Карта отцентрирована по Московской области.}\\ 
				PRIOR: LOW\\

				TITLE: Обозначения на карте\\
				\sr{Карта отображает данные описанные в таблице \ref{designations_on_map}. Требования к полям описаны во втором столбце таблицы и имеют тот же приоритет что и это требование.}\\ 
				PRIOR: CRITICAL

				TITLE: Опции, функциональны возможности карты\\
				\sr{У карты есть опции описанные в таблице \ref{map_options}. Требования к полям описаны во втором столбце таблицы и имеют тот же приоритет что и это требование.}\\ 
				PRIOR: CRITICAL

				% Таблица обозначений на карте.
				\begin{table}
					\begin{center}
					\caption {Обозначения на карте}
					\label{designations_on_map}
					\setlength{\extrarowheight}{2mm}
					\begin{tabular}{|p{5cm}|p{10cm}|}
					    \hline	\textbf{Обозначение}&\textbf{Описание/требования.} \\ [2mm]

					    
					    \hline	Водители & 

					    	Функциональные требования:
						    	\begin{itemize} 
						    		\item \sr{На карте отображаются все водители со статусом соединения «В сети».}
						    		\item \sr{Водители различаются по статусам. Описание находится в таблице \ref{status_dif}.}
						    	\end{itemize}

					    	\\ [2mm]
					   
					    \hline	Заказы & 

					    	\sr{На карте отображаются все заказы со статусом "Новый".}\\ [2mm]
						
						\hline 
					\end{tabular} 
					\end{center}
				\end{table}

				% Различие водителей по статусам.
				\begin{table} 
					\caption {Различие водителей по статусам}
					\setlength{\extrarowheight}{2mm}
					\label{status_dif}
					\begin{tabular}{|p{4cm}|p{8cm}|}

					    \hline	\textbf{Статусы} &\textbf{Цвет, описание, требования} \\ [2mm]


					    \hline	\textbf{Основные статусы:} & \\ [2mm]
						    \hline	Свободен & Зеленый\\ [2mm]
						    \hline	Занят & Красный\\ [2mm]
						    \hline	На заказе & Желтый\\ [2mm]

					    \hline	\textbf{Статусы соединения:} & \\ [2mm]
					  	  \hline	Нет GPS / Потерян & Серый\\ [2mm]

					    \hline	\textbf{Настройки робота:} & \\ [2mm]
						    \hline	Цепочка & Буква "Ц" по центру иконки.\\ [2mm]
						    \hline	Портовый / Городской & Обвести иконку голубым цветом.\\ [2mm]

						\hline 
					\end{tabular} 
				\end{table}

				% Опции карты
				\setlength{\extrarowheight}{2mm}
				\label{map_options}
				\begin{longtable}{|p{4cm}|p{9cm}|}
					\caption {Опции карты}\\

				    \hline	\textbf{Опиция}&\textbf{Описание/Требования} \\ [2mm]
				    \endfirsthead
				    \hline	\textbf{Опиция}&\textbf{Описание} \\ [2mm]
				    \endhead


				    \hline	Данные о водителе & 

				    	Интерфейс:
				    		\begin{itemize} 
					    		\item \sr{При клике на иконку водителя над иконкой всплывает окно в котором отображаются данные о водителе.}
					    		\item \sr{На карте может быть активно только одно окно с информацией о водителе.}
					    		\item \sr{При клике в пустую область карты, окно с информацией о водителе скрывается.}
					    		\item \sr{В углу карты расположено окно в котором пользователь может установить типы данных которые будут отображаться. Типы перечислены в списке ниже.}
					    	\end{itemize}

				    	Отображаемые данные: 
							\begin{itemize} 
								\item  Позывной
								\item  Гос. номер
								\item  Класс
								\item  Марка
								\item  Модель
								\item  Цвет
								\item  Время последней передачи координат.
								\item  Цепочка Да/Нет
								\item  Параметры робота(ов)
							\end{itemize}
				    	\\ [2mm]

				    \hline	Поиск по позывному & В верхнем правом углу карты находится строка поиска. Исходя из вводных данных в режиме реального времени фильтрует водителей и центрирует по ним карту. \\ [2mm]

				    \hline	Фильтр по роботам & \begin{itemize} \item В верхнем правом углу экрана расположено модальное окно в котором находится два чекбокса - портовый, городской. \item По умолчанию чекбоксы неактивны. \item При нажатии на одни из чекбоксов, на карте остаются только те водители которые соответствуют параметрам фильтра. \end{itemize}\\ [2mm]

				    \hline	Проверка на способность водителя выполнить заказ & При наведении на иконку водителя, иконки заказов перекрашиваются в цвета в зависимости от способности водителя выполнить заказ:
																				\begin{itemize} 
																					\item Зеленые - может выполнить.
																			   		\item Красные - не может.
																				\end{itemize}\\ [2mm]

					\hline 
				\end{longtable}

			\paragraph{Трек заказа} \label{order_track} \mbox{} \\

				DESC: Трек заказа накладывается поверх карты.

				\begin{itemize}

					\item{

						TITLE: Элементы трека заказа.\\
						\sr{Трек заказа содержит в себе элементы описанные в таблице \ref{order_track_elements}.}\\
						PRIOR: MODERATE\\
					}

					\item{
						TITLE: Элементы карты при отображении трека заказа.\\
						\sr{При отображении трека заказа остальные элементы карты скрываются.}\\
						PRIOR: MODERATE\\
					}

				\end{itemize}
				
				\begin{table}[h]
	                \begin{center}
	                \caption {Элементы трека заказа.}
	                \label{order_track_elements}
	                \setlength{\extrarowheight}{2mm}
	                \begin{tabular}{|p{5cm}|p{10cm}|}
	                   \hline     \textbf{Элемент}&\textbf{Требования} \\ [2mm]

	                   \hline  Точки заказа   & \\ [2mm]
	                   \hline  Предполагаемый маршрут заказа   & \\ [2mm]
	                   \hline  Отображается водитель   & \\ [2mm]
	                   \hline  Реальный маршрут заказа  & \\ [2mm]
	                   \hline  Точка принятия заказа   & \\ [2mm]
	                   \hline  Маршрут от точки принятия заказа до текущего местоположения водителя   & \\ [2mm]

	                   \hline
	                \end{tabular}
	                \end{center}
                \end{table}


		\subsubsection{Форма создания заказов}

			% Требования

				TITLE: Поля формы\\
				\sr{Форма содержит активные поля описанные в таблице \ref{order_form_table}. Требования к полям описаны во втором столбце таблицы и имеют тот же приоритет что и это требование.}\\
				PRIOR: CRITICAL\\

				TITLE: Кнопка "Создать заказ"\\
				\sr{Под формой расположена кнопка "Создать заказ", при нажатии на которую формируется документ содержащий в себе данные введенные пользователем в форму создания заказ.}\\
				PRIOR: CRITICAL\\

				TITLE: Уведомление об успешном создании заказа.\\
				\sr{При получении ответа об успешном создании заказа от сервера появляется уведомление NTDSP-\ref{notif_of_order_creation}.}\\
				PRIOR: CRITICAL\\

				TITLE: Порядок полей\\
				\sr{Поля отображаются в форме в том же порядке в котором они описаны в таблице \ref{order_form_table}.}\\
				PRIOR: LOW\\

				TITLE: Обязательные поля\\
				\sr{Заказ не может быть создан пока не заполнены все обязательные поля.}\\
				\sr{В случае если одно или несколько обязательных полей не заполнено, то при нажатии на кнопку "Создать заказ" эти поля подсвечиваются красным цветом.}\\
				PRIOR: MODERATE\\

			\setlength{\extrarowheight}{2mm}
			\label{order_form_table}
			\begin{longtable}{|p{3cm}|p{9cm}|p{2cm}|}
				\caption {Поля в форме создания заказов}\\

				\hline	\textbf{Поле} & \textbf{Описание/Требования} & \textbf{Статус поля} \\ [2mm]
				\endfirsthead
				\hline \textbf{Поле}&  \textbf{Описание/Требования} &\textbf {Статус поля}	\\ [2mm]
				\endhead

				% Пассивные поля

					\hline \textit{Пассивные поля:} & & \\ [2mm]

					\hline № Заказа & Поле генерируется автоматический. В случае если на сервер поступил “внешний заказ” (Яндекс, компания-партнер) то № Заказа генерируется при записи в базу. & Пассивное \\ [2mm]

					\hline Тип заказа & Поле генерируется автоматический. & Пассивное\\ [2mm]

				% Активные поля

					\hline \textit{Активные поля:} & & \\ [2mm]

					\hline *Телефон & Мобильный телефон определяется по средствам Asterisk. Web-центричное приложение отправляет запрос на сервер на наличие номера в архиве базы данных. В случае положительного ответа поле “Имя” заполняется автоматически. Также проставляются автоматически поля “Дополнительные услуги”, “Тип заказа”, “Способ оплаты” и “Тариф”. & Активное\\ [2mm]

					\hline Имя клиента & В это поле диспетчер записывает имя клиента. & Активное\\ [2mm]

					\hline *Время подачи (Дата и время) & 

						Интерфейс:
							\begin{itemize}
								\item \sr{Выпадающее окно - \href{http://prntscr.com/52m8sf}{Интерфейс "Дата и время"}}
							\end{itemize}

						Функциональные требования:
							\begin{itemize}
								\item \sr{По умолчанию стоит текущая дата и текущее время плюс STAT-\ref{min_time_of_filing}.}
								\item \sr{Время изменяется в режиме реального времени относительно текущего.}
							\end{itemize}
						
						Ограничения:
							\begin{itemize}
								\item \sr{При создании заказа пользователь не может установить время подачи меньше текущего плюс STAT-\ref{min_time_of_filing}.}
							\end{itemize}

						& Активное\\ [2mm]

					\hline *Адрес подачи / прибытия & 

						Интерфейс:
							\begin{itemize}
								\item \sr{Диспетчер вводит адреса в два поля - “От” и “Куда”}
							\end{itemize}

						Функциональные требования(интерактивный поиск):
							\begin{itemize}
								\item \sr{На протяжении заполнения полей диспетчером используется интерактивный поиск (Автозаполнение) который предлагает похожие варианты.}
								\item \sr{Автозаполнение ограничено адресами Москвы.}
							\end{itemize}

						& Активное \\ [2mm]

					\hline *Тариф & Список тарифов СТ в виде чекбоксов. По умолчанию выбран первый пункт списка. & Активное\\ [2mm]

					\hline *Способ оплаты & Всплывающее меню в котором диспетчер выбирает способ оплаты. По умолчанию выбран первый пункт списка. & Активное\\ [2mm]

					\hline Дополнительные услуги & В этом поле находятся чекбоксы с параметрами установленными владельцем или дополняются администраторами. & Активное \\ [2mm]
				
					\hline Комментарии  & Вводится вручную диспетчером. & Активное\\ [2mm]

					\hline Компания & В случае если заказ поступает безналичный заказ, диспетчер может в выпадающем списке выбрать юридическое лицо. В случае если диспетчер выбирает один из пунктов то поле “Тип заказа” меняется на “Безналичный”. & Активное \\ [2mm]

					\hline Особые условия & Диспетчер в это поле вписывает особые пожелания клиента. & Активное\\ [2mm]

					\hline Кол-во ТС & Количество транспортных средств необходимых для выполнения заказа. Диспетчер может выбрать в выпадающем списке количество машин либо ввести их вручную. Кол-во ТС равно количеству созданных заказов с идентичными параметрами. & Активное\\ [2mm]

				\hline
			\end{longtable}
			\begin{tablenotes}
					\item * отмечены обязательные для заполнения поля. 
			\end{tablenotes}

		